<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online image converter tool. Convert between JPEG, PNG, WEBP, HEIC, SVG, GIF, BMP, PDF, ICO, and TIF formats quickly and easily.">
    <meta name="keywords" content="image converter, convert image format, jpg to png, png to webp, heic converter, svg converter, image optimization, online image tool, free image converter">
    <meta name="author" content="Image Converter Pro">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Online Image Converter Tool | Multiple Formats Supported">
    <meta property="og:description" content="Convert images between different formats online for free. Supports JPEG, PNG, WEBP, HEIC, SVG, GIF, BMP, PDF, ICO, and TIF.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourimageconverterwebsite.com">
    <meta property="og:image" content="https://yourimageconverterwebsite.com/preview.jpg">
    <title>Online Image Converter | Convert JPEG, PNG, WEBP, HEIC, SVG, GIF, BMP, PDF, ICO, TIF</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üñºÔ∏è</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4cc9f0;
            --warning-color: #f72585;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            background-color: #f5f7ff;
            padding: 20px;
        }

        .container {
            width: 70%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .logo-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-right: 15px;
        }

        .logo-text {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .tagline {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        .ad-banner {
            background-color: #fff;
            border-radius: var(--border-radius);
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            box-shadow: var(--box-shadow);
            border: 1px dashed #ccc;
        }

        .converter-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
        }

        .upload-area {
            border: 2px dashed #ccc;
            border-radius: var(--border-radius);
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 25px;
            position: relative;
        }

        .upload-area:hover {
            border-color: var(--primary-color);
            background-color: rgba(67, 97, 238, 0.05);
        }

        .upload-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .upload-text {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .upload-hint {
            color: #666;
            font-size: 0.9rem;
        }

        #file-input {
            display: none;
        }

        .preview-container {
            display: none;
            margin-bottom: 25px;
            text-align: center;
        }

        .image-preview {
            max-width: 100%;
            max-height: 300px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 15px;
        }

        .file-info {
            background-color: #f8f9fa;
            padding: 10px 15px;
            border-radius: var(--border-radius);
            display: inline-block;
            font-size: 0.9rem;
        }

        .options-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
        }

        .format-option {
            flex: 1;
            min-width: 120px;
        }

        .format-label {
            display: block;
            background-color: #f8f9fa;
            padding: 12px 15px;
            border-radius: var(--border-radius);
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .format-label:hover {
            background-color: #e9ecef;
        }

        .format-radio:checked + .format-label {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        .format-radio {
            display: none;
        }

        .format-icon {
            font-size: 1.5rem;
            margin-bottom: 5px;
            display: block;
        }

        .quality-options {
            margin-bottom: 25px;
        }

        .quality-slider {
            width: 100%;
            margin: 10px 0;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: #e9ecef;
            color: var(--dark-color);
        }

        .btn-secondary:hover {
            background-color: #dee2e6;
            transform: translateY(-2px);
        }

        .btn i {
            font-size: 1.1rem;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .feature-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .feature-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--dark-color);
        }

        .feature-desc {
            color: #666;
            font-size: 0.9rem;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(67, 97, 238, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive styles */
        @media (max-width: 992px) {
            .container {
                width: 85%;
            }
        }

        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 15px;
            }

            .converter-container {
                padding: 20px;
            }

            .options-container {
                grid-template-columns: repeat(2, 1fr);
            }

            .action-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }

        @media (max-width: 576px) {
            .logo {
                flex-direction: column;
            }

            .logo-icon {
                margin-right: 0;
                margin-bottom: 10px;
            }

            .options-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">üñºÔ∏è</div>
                <div class="logo-text">Image Converter Pro</div>
            </div>
            <p class="tagline">Convert images between multiple formats quickly and easily</p>
        </header>

        <!-- Ad Banner Top -->
        <div class="ad-banner">
            <!-- Replace with your Google AdSense code -->
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID"
                crossorigin="anonymous"></script>
            <!-- Image Converter Top Banner -->
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-YOUR_ADSENSE_ID"
                data-ad-slot="YOUR_AD_SLOT_ID"
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

        <div class="converter-container">
            <div class="upload-area" id="upload-area">
                <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="upload-text">Drag & Drop your image here</div>
                <div class="upload-hint">or click to browse files (JPEG, PNG, WEBP, HEIC, SVG, GIF, BMP, PDF, ICO, TIF)</div>
                <input type="file" id="file-input" accept="image/*">
            </div>

            <div class="preview-container" id="preview-container">
                <img id="image-preview" class="image-preview" src="#" alt="Preview">
                <div class="file-info">
                    <span id="file-name">example.jpg</span> ‚Ä¢ 
                    <span id="file-size">2.4 MB</span> ‚Ä¢ 
                    <span id="file-dimensions">1920x1080</span>
                </div>
            </div>

            <div class="options-container">
                <div class="format-option">
                    <input type="radio" id="format-jpg" name="format" value="jpg" class="format-radio" checked>
                    <label for="format-jpg" class="format-label">
                        <span class="format-icon">JPG</span>
                        JPEG
                    </label>
                </div>
                <div class="format-option">
                    <input type="radio" id="format-png" name="format" value="png" class="format-radio">
                    <label for="format-png" class="format-label">
                        <span class="format-icon">PNG</span>
                        PNG
                    </label>
                </div>
                <div class="format-option">
                    <input type="radio" id="format-webp" name="format" value="webp" class="format-radio">
                    <label for="format-webp" class="format-label">
                        <span class="format-icon">WEBP</span>
                        WEBP
                    </label>
                </div>
                <div class="format-option">
                    <input type="radio" id="format-heic" name="format" value="heic" class="format-radio">
                    <label for="format-heic" class="format-label">
                        <span class="format-icon">HEIC</span>
                        HEIC
                    </label>
                </div>
                <div class="format-option">
                    <input type="radio" id="format-svg" name="format" value="svg" class="format-radio">
                    <label for="format-svg" class="format-label">
                        <span class="format-icon">SVG</span>
                        SVG
                    </label>
                </div>
                <div class="format-option">
                    <input type="radio" id="format-gif" name="format" value="gif" class="format-radio">
                    <label for="format-gif" class="format-label">
                        <span class="format-icon">GIF</span>
                        GIF
                    </label>
                </div>
                <div class="format-option">
                    <input type="radio" id="format-bmp" name="format" value="bmp" class="format-radio">
                    <label for="format-bmp" class="format-label">
                        <span class="format-icon">BMP</span>
                        BMP
                    </label>
                </div>
                <div class="format-option">
                    <input type="radio" id="format-pdf" name="format" value="pdf" class="format-radio">
                    <label for="format-pdf" class="format-label">
                        <span class="format-icon">PDF</span>
                        PDF
                    </label>
                </div>
                <div class="format-option">
                    <input type="radio" id="format-ico" name="format" value="ico" class="format-radio">
                    <label for="format-ico" class="format-label">
                        <span class="format-icon">ICO</span>
                        ICO
                    </label>
                </div>
                <div class="format-option">
                    <input type="radio" id="format-tif" name="format" value="tif" class="format-radio">
                    <label for="format-tif" class="format-label">
                        <span class="format-icon">TIF</span>
                        TIFF
                    </label>
                </div>
            </div>

            <div class="quality-options">
                <label for="quality-slider">Quality: <span id="quality-value">80</span>%</label>
                <input type="range" id="quality-slider" class="quality-slider" min="1" max="100" value="80">
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Processing your image...</p>
            </div>

            <div class="action-buttons">
                <button id="convert-btn" class="btn btn-primary">
                    <i class="fas fa-exchange-alt"></i> Convert Now
                </button>
                <button id="reset-btn" class="btn btn-secondary">
                    <i class="fas fa-redo"></i> Reset
                </button>
            </div>
        </div>

        <!-- Ad Banner Middle -->
        <div class="ad-banner">
            <!-- Replace with your Google AdSense code -->
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_ADSENSE_ID"
                crossorigin="anonymous"></script>
            <!-- Image Converter Middle Rectangle -->
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-YOUR_ADSENSE_ID"
                data-ad-slot="YOUR_AD_SLOT_ID"
                data-ad-format="auto"
                data-full-width-responsive="true"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-bolt"></i>
                </div>
                <h3 class="feature-title">Fast Conversion</h3>
                <p class="feature-desc">Convert images in seconds with our optimized processing engine.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-lock"></i>
                </div>
                <h3 class="feature-title">Secure Processing</h3>
                <p class="feature-desc">Your images are processed in your browser and never uploaded to our servers.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3 class="feature-title">Mobile Friendly</h3>
                <p class="feature-desc">Works perfectly on all devices, from desktop to smartphone.</p>
            </div>
        </div>

        <footer>
            <p>¬© <span id="current-year"></span> Image Converter Pro. All rights reserved.</p>
            <p>Free online tool to convert between image formats: JPEG, JPG, PNG, WEBP, HEIC, SVG, GIF, BMP, PDF, ICO, and TIFF.</p>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/heic2any@0.0.3/dist/heic2any.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // DOM elements
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('file-input');
            const previewContainer = document.getElementById('preview-container');
            const imagePreview = document.getElementById('image-preview');
            const fileName = document.getElementById('file-name');
            const fileSize = document.getElementById('file-size');
            const fileDimensions = document.getElementById('file-dimensions');
            const qualitySlider = document.getElementById('quality-slider');
            const qualityValue = document.getElementById('quality-value');
            const convertBtn = document.getElementById('convert-btn');
            const resetBtn = document.getElementById('reset-btn');
            const loading = document.getElementById('loading');

            // Quality slider update
            qualitySlider.addEventListener('input', function() {
                qualityValue.textContent = this.value;
            });

            // Upload area click event
            uploadArea.addEventListener('click', function() {
                fileInput.click();
            });

            // Drag and drop events
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            ['dragenter', 'dragover'].forEach(eventName => {
                uploadArea.addEventListener(eventName, highlight, false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, unhighlight, false);
            });

            function highlight() {
                uploadArea.classList.add('highlight');
            }

            function unhighlight() {
                uploadArea.classList.remove('highlight');
            }

            // Handle dropped files
            uploadArea.addEventListener('drop', handleDrop, false);

            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles(files);
            }

            // Handle selected files
            fileInput.addEventListener('change', function() {
                handleFiles(this.files);
            });

            // Process selected files
            function handleFiles(files) {
                if (files.length === 0) return;
                
                const file = files[0];
                if (!file.type.match('image.*')) {
                    alert('Please select an image file.');
                    return;
                }

                // Display file info
                fileName.textContent = file.name;
                fileSize.textContent = formatFileSize(file.size);

                // Create preview
                const reader = new FileReader();
                reader.onload = function(e) {
                    imagePreview.src = e.target.result;
                    previewContainer.style.display = 'block';

                    // Get image dimensions
                    const img = new Image();
                    img.onload = function() {
                        fileDimensions.textContent = `${this.width}√ó${this.height}`;
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }

            // Format file size
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }

            // Convert button click event
            convertBtn.addEventListener('click', async function() {
                if (!fileInput.files || fileInput.files.length === 0) {
                    alert('Please select an image file first.');
                    return;
                }

                const selectedFormat = document.querySelector('input[name="format"]:checked').value;
                const quality = parseInt(qualitySlider.value) / 100;
                
                loading.style.display = 'block';
                convertBtn.disabled = true;

                try {
                    await convertImage(fileInput.files[0], selectedFormat, quality);
                } catch (error) {
                    console.error('Conversion error:', error);
                    alert('An error occurred during conversion. Please try again.');
                } finally {
                    loading.style.display = 'none';
                    convertBtn.disabled = false;
                }
            });

            // Reset button click event
            resetBtn.addEventListener('click', function() {
                fileInput.value = '';
                previewContainer.style.display = 'none';
                document.getElementById('format-jpg').checked = true;
                qualitySlider.value = 80;
                qualityValue.textContent = '80';
            });

            // Image conversion function
            async function convertImage(file, targetFormat, quality) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = async function(e) {
                        try {
                            const img = new Image();
                            img.onload = async function() {
                                try {
                                    let resultBlob;
                                    
                                    // Handle HEIC conversion
                                    if (file.type === 'image/heic' || file.type === 'image/heif') {
                                        const convertedBlob = await heic2any({
                                            blob: file,
                                            toType: `image/${targetFormat}`,
                                            quality: quality
                                        });
                                        saveAs(convertedBlob, `${file.name.split('.')[0]}.${targetFormat}`);
                                        resolve();
                                        return;
                                    }

                                    // Handle PDF conversion
                                    if (targetFormat === 'pdf') {
                                        const { PDFDocument, rgb } = PDFLib;
                                        const pdfDoc = await PDFDocument.create();
                                        const page = pdfDoc.addPage([img.width, img.height]);
                                        
                                        let image;
                                        if (file.type === 'image/jpeg' || file.type === 'image/jpg') {
                                            image = await pdfDoc.embedJpg(e.target.result);
                                        } else if (file.type === 'image/png') {
                                            image = await pdfDoc.embedPng(e.target.result);
                                        } else {
                                            // For other formats, convert to PNG first
                                            const canvas = document.createElement('canvas');
                                            canvas.width = img.width;
                                            canvas.height = img.height;
                                            const ctx = canvas.getContext('2d');
                                            ctx.drawImage(img, 0, 0);
                                            const pngDataUrl = canvas.toDataURL('image/png');
                                            image = await pdfDoc.embedPng(pngDataUrl);
                                        }
                                        
                                        page.drawImage(image, {
                                            x: 0,
                                            y: 0,
                                            width: img.width,
                                            height: img.height,
                                        });
                                        
                                        const pdfBytes = await pdfDoc.save();
                                        saveAs(new Blob([pdfBytes], { type: 'application/pdf' }), `${file.name.split('.')[0]}.pdf`);
                                        resolve();
                                        return;
                                    }

                                    // Handle ICO conversion
                                    if (targetFormat === 'ico') {
                                        const canvas = document.createElement('canvas');
                                        const sizes = [16, 24, 32, 48, 64, 128, 256];
                                        canvas.width = 256;
                                        canvas.height = 256;
                                        
                                        const ctx = canvas.getContext('2d');
                                        ctx.drawImage(img, 0, 0, 256, 256);
                                        
                                        const icoCanvas = document.createElement('canvas');
                                        const icoCtx = icoCanvas.getContext('2d');
                                        
                                        // Create a temporary canvas for each size
                                        const images = sizes.map(size => {
                                            icoCanvas.width = size;
                                            icoCanvas.height = size;
                                            icoCtx.clearRect(0, 0, size, size);
                                            icoCtx.drawImage(canvas, 0, 0, size, size);
                                            return icoCanvas.toDataURL('image/png').split(',')[1];
                                        });
                                        
                                        // Create ICO file structure
                                        const icoHeader = new Uint8Array([
                                            0, 0, // Reserved
                                            1, 0, // Image type (1 for ICO)
                                            sizes.length, 0 // Number of images
                                        ]);
                                        
                                        // Calculate offsets and build directory entries
                                        let offset = 6 + (16 * sizes.length);
                                        const directoryEntries = [];
                                        const imageData = [];
                                        
                                        for (let i = 0; i < sizes.length; i++) {
                                            const size = sizes[i];
                                            const pngData = atob(images[i]);
                                            const pngLength = pngData.length;
                                            
                                            directoryEntries.push(
                                                size & 0xFF, // Width
                                                size & 0xFF, // Height
                                                0, // Color palette (0 for no palette)
                                                0, // Reserved
                                                1, 0, // Color planes
                                                32, 0, // Bits per pixel
                                                pngLength & 0xFF, (pngLength >> 8) & 0xFF, (pngLength >> 16) & 0xFF, (pngLength >> 24) & 0xFF, // Image size
                                                offset & 0xFF, (offset >> 8) & 0xFF, (offset >> 16) & 0xFF, (offset >> 24) & 0xFF // Offset
                                            );
                                            
                                            imageData.push(...Array.from(pngData).map(c => c.charCodeAt(0)));
                                            offset += pngLength;
                                        }
                                        
                                        // Combine all parts into final ICO file
                                        const icoArray = [
                                            ...icoHeader,
                                            ...directoryEntries,
                                            ...imageData
                                        ];
                                        
                                        const icoFile = new Uint8Array(icoArray);
                                        saveAs(new Blob([icoFile], { type: 'image/x-icon' }), `${file.name.split('.')[0]}.ico`);
                                        resolve();
                                        return;
                                    }

                                    // Standard image format conversion
                                    const canvas = document.createElement('canvas');
                                    canvas.width = img.width;
                                    canvas.height = img.height;
                                    
                                    const ctx = canvas.getContext('2d');
                                    ctx.drawImage(img, 0, 0);
                                    
                                    let mimeType;
                                    switch (targetFormat) {
                                        case 'jpg':
                                        case 'jpeg':
                                            mimeType = 'image/jpeg';
                                            break;
                                        case 'png':
                                            mimeType = 'image/png';
                                            break;
                                        case 'webp':
                                            mimeType = 'image/webp';
                                            break;
                                        case 'gif':
                                            mimeType = 'image/gif';
                                            break;
                                        case 'bmp':
                                            mimeType = 'image/bmp';
                                            break;
                                        case 'tif':
                                        case 'tiff':
                                            mimeType = 'image/tiff';
                                            break;
                                        default:
                                            mimeType = 'image/png';
                                    }
                                    
                                    canvas.toBlob(blob => {
                                        saveAs(blob, `${file.name.split('.')[0]}.${targetFormat}`);
                                        resolve();
                                    }, mimeType, quality);
                                } catch (error) {
                                    reject(error);
                                }
                            };
                            img.src = e.target.result;
                        } catch (error) {
                            reject(error);
                        }
                    };
                    reader.onerror = reject;
                    reader.readAsDataURL(file);
                });
            }
        });
    </script>
</body>
</html>
